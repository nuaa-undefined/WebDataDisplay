<!DOCTYPE html>
<html>

<head>
    <title>区域分布</title>
    <script src="./js/common/commonHead.js"></script>
</head>

<body>
    <div class="x-nav">
        <span class="layui-breadcrumb">
        <a href="">首页</a>
        <a href="">电商平台数据分析</a>
        <a><cite>区域分布</cite></a>
      </span>
        <a class="layui-btn layui-btn-small" style="line-height:1.6em;margin-top:3px;float:right" href="javascript:location.replace(location.href);" title="刷新">
            <i class="layui-icon" style="line-height:30px">ဂ</i></a>
    </div>
    <div class="x-body">
        <div style="padding: 20px; background-color: #F2F2F2;">
            <div class="layui-row layui-col-space15">
                <div class="layui-card">
                    <div class="layui-card-header">
                        <h3>全国各省级行政区消费分布</h3>
                    </div>
                    <div class="layui-card-body">
                        <div id="china-map" style="width:100%;height:600px"></div>
                    </div>
                </div>
            </div>
        </div>
        <div style="padding: 20px; background-color: #F2F2F2;">
            <div class="layui-row layui-col-space15">
                <div class="layui-col-md6">
                    <div class="layui-card">
                        <div class="layui-card-header">
                            <h3>各省级行政区消费分布占比</h3>
                        </div>
                        <div class="layui-card-body">
                            <div id="percent_chart" style="width:100%;height:400px"></div>
                        </div>
                    </div>
                </div>
                <div class="layui-col-md6">
                    <div class="layui-card">
                        <div class="layui-card-header">
                            <h3>2004-2018各主要地区总消费额折线图</h3>
                        </div>
                        <div class="layui-card-body">
                            <div id="area-year-chart" style="width:100%;height:400px"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div style="padding: 20px; background-color: #F2F2F2;">
            <div class="layui-row layui-col-space15">
                <div class="layui-card">
                    <div class="layui-card-header">
                        <h3>各地区的平均消费水平</h3>
                    </div>
                    <div class="layui-card-body">
                        <div id="area-avg-chart" style="width:100%;height:400px"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- 统一引用js -->
    <script src="./js/common/commonJS.js"></script>
    <script src="./js/echarts/china.js"></script>
    <script>
        var myChart = echarts.init(document.getElementById('china-map'), 'westeros');
        var option = {
            title: {
                text: '消费分布',
                subtext: '简单测试',
                top: '1%',
                x: 'center'
            },
            tooltip: { //提示框组件。
                trigger: 'item' //数据项图形触发，主要在散点图，饼图等无类目轴的图表中使用。
            },
            legend: {
                orient: 'horizontal', //图例的排列方向
                x: 'left', //图例的位置
                data: ['订单量']
            },

            visualMap: { //颜色的设置  dataRange
                x: 'left',
                y: 'center',
                splitList: [{
                    start: 1500
                }, {
                    start: 900,
                    end: 1500
                }, {
                    start: 310,
                    end: 1000
                }, {
                    start: 200,
                    end: 300
                }, {
                    start: 10,
                    end: 200,
                    label: '10 到 200（自定义label）'
                }, {
                    start: 5,
                    end: 5,
                    label: '5（自定义特殊颜色）',
                    color: 'black'
                }, {
                    end: 10
                }],
                //            min: 0,
                //            max: 2500,
                //            calculable : true,//颜色呈条状
                text: ['高', '低'], // 文本，默认为数值文本
                color: ['#E0022B', '#E09107', '#A3E00B']
            },
            toolbox: { //工具栏
                show: true,
                orient: 'vertical', //工具栏 icon 的布局朝向
                x: 'right',
                y: 'bottom',
                itemSize: 18,
                feature: { //各工具配置项。
                    mark: {
                        show: true
                    },
                    dataView: {
                        show: true,
                        readOnly: false
                            // icon: 'iamge://images/edit.png'
                    }, //数据视图工具，可以展现当前图表所用的数据，编辑后可以动态更新。
                    restore: {
                        show: true
                            // icon: 'iamge://images/refresh.png'
                    }, //配置项还原。
                    saveAsImage: {
                        show: true
                            // icon: 'image://images/save.png'
                    } //保存为图片。
                }
            },
            series: [{
                name: '消费总额',
                type: 'map',
                mapType: 'china',
                //    zoom: 0.85,
                roam: true, //是否开启鼠标缩放和平移漫游
                itemStyle: { //地图区域的多边形 图形样式
                    normal: { //是图形在默认状态下的样式
                        label: {
                            show: true, //是否显示标签
                            textStyle: {
                                color: "rgb(249, 249, 249)"
                            }
                        }
                    },
                    emphasis: { //是图形在高亮状态下的样式,比如在鼠标悬浮或者图例联动高亮时
                        label: {
                            show: true
                        }
                    }
                },
                top: "6%", //组件距离容器的距离
                data: [{
                    name: '北京',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '天津',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '上海',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '重庆',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '河北',
                    value: 0
                }, {
                    name: '河南',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '云南',
                    value: 5
                }, {
                    name: '辽宁',
                    value: 305
                }, {
                    name: '黑龙江',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '湖南',
                    value: 200
                }, {
                    name: '安徽',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '山东',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '新疆',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '江苏',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '浙江',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '江西',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '湖北',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '广西',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '甘肃',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '山西',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '内蒙古',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '陕西',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '吉林',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '福建',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '贵州',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '广东',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '青海',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '西藏',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '四川',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '宁夏',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '海南',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '台湾',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '香港',
                    value: Math.round(Math.random() * 2000)
                }, {
                    name: '澳门',
                    value: Math.round(Math.random() * 2000)
                }]
            }]
        };
        myChart.setOption(option);
        myChart.on('click', function(params) {
            var dataIndex = params.dataIndex;
            console.log(params);
        });

        percent_option = {
            title: {
                text: '',
                subtext: '',
                x: 'center'
            },
            tooltip: {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} ({d}%)"
            },
            legend: {
                orient: 'vertical',
                left: 'left',
                y: '20%',
                data: ['北京市', '上海市', '江苏省', '浙江省', '福建省', '天津市', '其他']
            },
            series: [{
                name: '消费占比',
                type: 'pie',
                radius: '55%',
                center: ['50%', '50%'],
                data: [{
                    value: 1100,
                    name: '北京市'
                }, {
                    value: 1000,
                    name: '上海市'
                }, {
                    value: 2000,
                    name: '江苏省'
                }, {
                    value: 1600,
                    name: '浙江省'
                }, {
                    value: 1400,
                    name: '福建省'
                }, {
                    value: 1000,
                    name: '天津市'
                }, {
                    value: 3000,
                    name: '其他'
                }].sort(function(a, b) {
                    return b.value - a.value;
                }),
                itemStyle: {
                    emphasis: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }]
        };
        percent_chart = echarts.init(document.getElementById('percent_chart'), 'westeros');
        percent_chart.setOption(percent_option);
    </script>
    <script src="./js/ecommerce-charts/area-year-chart.js"></script>
    <script src="./js/ecommerce-charts/area-avg-chart.js"></script>
</body>

</html>